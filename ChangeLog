2008-06-01 Alex Oberhauser <oberhauseralex@networld.to>

	* run.sh:
	Removing the forwarding of stderr to /dev/null during the execution of
	the CUnit tests.

	* src/libphonefirewall.h:
	Adding the parameter "country_code" and "area_code" to the delete
	function.

	* src/phonefirewall_administration.c:
	Substituting the column names with the TB_xxxx constants, which are
	defined in the header file.

	Writing all SQL-statements in capitals.

	Implementing the delete functions for black- and whiteelist entries.

	Marking the check functions as buggy (XXX). 

	* src_test/testphonefirewall.c:
	Adding a few trivial tests for the delete functions.

	Changing the test mode from verbose to normal.

2008-05-30 Alex Oberhauser <oberhauseralex@networld.to>

	* TODO:
	Adding the task to fix the check_*_entry bug.

	* src_test/testphonefirewall.c:
	Rewriting the tests. Specially adding in the add tests a detailed
	command was would be tested.

	* src/phonefirewall_administration.c:
	Adding temporary printf statements to isolate the bug. The functions
	seams to work well, but the flag will be override.

2008-05-29 Alex Oberhauser <oberhauseralex@networld.to>

	* Makefile:
	Deleting the pkg-config argument for sqlite3 (now is directly in a
	modified toolchain with sqlite3-library)

	Deleting the variables for the ARMv4 cross compiler. It's not needed
	for the build process.

2008-05-28 Alex Oberhauser <oberhauseralex@networld.to>

	* phonefirewall.sql:
	Changing the type of the column "number" from INTEGER to BIGINT.

	* src/phonefirewall_administration.c:
	Implementing the check functions for black- and whitelist. Checks now
	the country code + area code + number with the priority system.

	* src/libphonefirewall.h:
	Adding constants for the column names.

	* src_test/testphonefirewall.c:
	Adding a few special test (for example an entry with an empty name or
	reason). Uncommenting the test for the check functions.

	* run.sh:
	Redirect the stderr to /dev/null. Comes only the warning that the
	entry with this primary key exists and this we have considered in the
	CUnit tests.

	* bin_test/testphonefirewall:
	The checking of the numbers fails (for 3 tests). I don't know why.
	Seams that flag don't can be read out in the function
	check_blacklist_entry, but in a few tests seams to work.

2008-05-26 Alex Oberhauser <oberhauseralex@networld.to>

	* src/phone_firewall.c:
	Switching from file parsing to sqlite3 database.

	* Makefile:
	Using for "all" only the testing suite, because the toolchain don't
	include the sqlite3 libraries.
	
	* run.sh:
	Adding the creation of the SQL database.

	* phonefirewall.sh:
	SQL statements for the creation of the blacklist and whitelist table.

	* src_test/testphonefirewall.c:
	Commenting the testing functions for the check functions, which are
	not implemented yet.

2008-05-25 Alex Oberhauser <oberhauseralex@networld.to>

	* Makefile:
	Adding the entry "clean-db" to remove only the blacklist and whitelist
	files, otherwise the test failes because it's not possible to add an
	entry twice.

2008-05-22 Alex Oberhauser <oberhauseralex@networld.to>

	* Makefile:
	Adding the -f parameter to the remove statement.

2008-05-20 Alex Oberhauser <oberhauseralex@networld.to>

	* src/libphonefirewall.h:
	Deleting the line "Implemented for the OpenMoko framework." in the
	comment.

	* README:
	Adding the hint that the maintainer list must be in an alphabetical
	order.

	* TODO:
	Adding an new point to the ToDo-list, that we have to design a
	suitable GUI for mobile devices.

2008-05-19 Alex Oberhauser <oberhauseralex@networld.to>

	* src/phonefirewall_administration.c:
	Adding the constant "PRIO_ALL" to the library which indicates that all
	priorities are used for the searching. It's not possible to give a
	number a lower priority than PRIO_ALL, which is at the moment -999.

	Testing if the number is saved, when is saved don't saved it another
	time.

	* src/libphonefirewall.h:
	Adding the constant "PRIOR_ALL" with the value of -999.

	* build.h:
	build.h -> run.h

	* run.h:
	Fixing an error that the message where the logfiles are appears also
	when the program execution fails.

2008-05-17 Alex Oberhauser <oberhauseralex@networld.to>
	
	* src/phonefirewall_administration.c:
	After the check with valgrind (valgrind --leak-check=full
	--show-reachable=yes bin_test/testphonefirewall) I have found an bug
	that the file in check_function don't where closed. valgrind outputs
	the following line:

	...
	==3866== 2,112 bytes in 6 blocks are still reachable in loss record 1
	of 1
	...

	This is maybe the size of one of the blacklist files. I have fixed the
	error with a fclose(file) statement before the return statements. Now
	it seams to work well.

	* src/libphonefirewall.h:
	Adding the following declarations of searching functions to the header
	file (with documentation):

		struct entry *get_blacklist_entry_by_name(char *name);
		struct entry *get_blacklist_entry_by_number(int country_code,
		int area_code, unsigned long long number);

		struct entry *get_whitelist_entry_by_name(char *name);
		struct entry *get_whitelist_entry_by_number(int country_code,
		int area_code, unsigned long long number);

	Adding also the struct "entry" which is needed for the search
	functions:

		struct entry {
			int country_code;
			int area_code;
			unsigned long long number;
			char *name;
			char *reason;
			int priority;
		};

	Maybe it's also usefull to add a functions which returns all entries 
	of one file or/and all files!?!


2008-05-15 Alex Oberhauser <oberhauseralex@networld.to>

	* src/phonefirewall_administration.c:
	Adding a priority system for the checking of the numbers. 
	
	Testing with a number with priority 2, if priority greater than 2 (3 
	and more) is used the number was not found. Less and equal 2 the 
	number was found - this means it would be blocked. Checking also 
	with an entry with priority -1. The numbers can also be negativ. 
	
	There ar no limitations of the priority, only that it must be an
	Integer.

	Changing also the documentation entry for the priority.	

	* README:
	Adding the notation that a build script (build.sh) exists.

2008-05-15 Stanciu Corneliu <stanciucorneliu@networld.to>

	* build.sh:
	Changing the console in the script from "/bin/sh" to "/bin/bash".

2008-05-14 Alex Oberhauser <oberhauseralex@networld.to>

	* build.sh:
	Writing a script which makes it easier to build the program and starts
	the testing suite automatically.

	* log:
	Adding a log directory for the build script.

	* .gitignore:
	Ignoring the binary files, the libraries and the logfiles.

	* Makefile:
	Removing the cleaning of bin/*, because the direcotry doesn't exist.

2008-05-14 Alex Oberhauser <oberhauseralex@networld.to>

	* TODO:
	Adding a few ideas for a alternative blocking/accepting system.

	* src/phonefirewall_administration.c:
	Making a function which sets the filename. Used 4 times in the
	program. So it's easier to change the filename format.

2008-05-13 Alex Oberhauser <oberhauseralex@networld.to>

	* src/phonefirewall_administration.c
	* src_test/testphonefirewall.c:
	Adding the add function for the whitelist, with appendant tests (at
	the moment there are only trivial tests).

	Changing the number type from "long long int" to "unsigned long long".

	* README:
	Adding our link and a description how you should start the program
	to the README file.

	Adding the information that CUnit is needed.

	* TODO:
	Adding a TODO file, so that a new developer knows what is planned and
	so he/she can begin to start to implement the things.

2008-05-12 Alex Oberhauser <oberhauseralex@networld.to>

	* src/phonefirewall_administration.c:
	Implementing the check of the blacklist entries. It seams to work.
	When you start the program than from the directory where the Makefile
	is saved (bin_test/testphonefirewall), because the path is relativ to
	Makefile directory. There is the directory "db" where the entries will
	be saved.

2008-05-11 Alex Oberhauser <oberhauseralex@networld.to>

	* src/libphonefirewall.h
	* src/phonefirewall_administration.c:
	Changing the implementation from binary tree to a simple saving to
	files. The files are named as follows:
		
		blacklist_$COUNTRYCODE-$AREACODE
		whitelist_$COUNTRYCODE-$AREACODE
	
	So it's possible to have a smaller number of numbers, because they are
	grouped by countrycode and than also by areacode. If a incoming call
	take place, we need only to parse the one specific file.


2008-05-10 Alex Oberhauser <oberhauseralex@networld.to>

	* src_test/libphonefirewall.h:
	Deleting this header file. It was a copie of an old
	src/libphonefirewall.h which causes errors (wrong parameter type in
	the add functions).

	* src_test/testphonefirewall.c:
	Including not the src_test/libphonefirewall.h (see reasons above), but
	the header file src/libphonefirewall.h.

	* COPYING:
	Adding the GPLv2 licence

	* README:
	Adding a README file, to explain how compiling of the project works
	and other usefull informations.

2008-05-10 Alex Oberhauser <oberhauseralex@networld.to>

	* src/phonefirewall_administration.c:
	Beginning with the implementation of the functions which adds telephone
	numbers (at the moment only for the blacklist) at the base of a binary tree.

	* ChangeLog:
	From now one we should write a detailed "ChangeLog" file to have a
	better overview over the changes.

	* doc/*:
	Updating the documentation.
	From now one I will always update the documentation before a
	commit/push.
	
	* src_test/:
	I don't have written the testing part of the code. (I promise the
	nexts commits will come with the full tests ;) )

